Role: Senior Frontend Engineer  
Project: SPECTROPY PMS  
Task: Enable Mobile Responsive UI + Fix Page Re-render Issues  

---

## üéØ OBJECTIVES

1. Make the **entire PMS website mobile responsive**
2. Fix issues where **UI does not re-render after actions** (create/update/delete)
3. Ensure state updates and data refresh correctly after every action

---

## üì± PART 1: MOBILE RESPONSIVE UI (MANDATORY)

### Overall Requirements
- Website must work properly on:
  - Mobile (‚â§ 768px)
  - Tablet
  - Desktop
- Use **Tailwind responsive utilities** (`sm`, `md`, `lg`)
- No separate mobile app ‚Äî same React app adapts layout

---

### Layout Adjustments

#### 1Ô∏è‚É£ Left Sidebar
- Desktop:
  - Fixed sidebar visible
- Mobile:
  - Sidebar must collapse
  - Add **hamburger menu button**
  - Sidebar opens as slide-in drawer
  - Clicking outside closes sidebar

#### 2Ô∏è‚É£ Pages to Update
Ensure responsiveness for:
- Dashboard (Admin & User)
- Projects (Grid view ‚Üí stack vertically on mobile)
- Project Board (Kanban):
  - Horizontal scroll for buckets
  - Buckets full-width on small screens
- Reports:
  - Tabs scroll horizontally
  - Charts resize properly
- User Management:
  - Single column layout
  - Dropdown full width

---

### UI Rules
- Buttons ‚Üí full width on mobile
- Tables ‚Üí convert to stacked cards
- Modals ‚Üí fullscreen on mobile
- Text sizes adjust automatically
- No horizontal overflow except Kanban board

---

## üîÑ PART 2: FIX UI NOT RE-RENDERING AFTER ACTIONS

### Problem
- After actions like:
  - Create task
  - Update task
  - Delete task
  - Update user permissions
- UI does not refresh automatically

---

### Required Fix (IMPORTANT)

#### 1Ô∏è‚É£ React Query / State Refresh
For every mutation:
- Ensure `queryClient.invalidateQueries()` is called correctly
- Query keys must match fetch keys exactly

Example logic (do NOT change APIs):
- After create ‚Üí invalidate list query
- After update ‚Üí invalidate detail & list query
- After delete ‚Üí invalidate list query

---

#### 2Ô∏è‚É£ Local State Sync
- Avoid stale local state
- Do not rely only on props after mutation
- Ensure:
  - Dialog close triggers refresh
  - Selected items update after mutation

---

#### 3Ô∏è‚É£ Forced Re-render Safety
Where necessary:
- Use `key` prop tied to IDs
- Use state updates after success callbacks
- Avoid direct mutation of objects/arrays

---

## üß™ TEST CASES (MUST PASS)

- Perform action ‚Üí UI updates instantly
- No manual refresh needed
- Mobile view:
  - Navigation works
  - All buttons usable
  - No broken layout
- Desktop view unaffected

---

## üé® UX EXPECTATIONS
- Smooth transitions
- No flicker
- Consistent Dev21 design
- Loading states during API calls

---

## ‚ö†Ô∏è CONSTRAINTS

- ‚ùå Do NOT change backend APIs
- ‚ùå Do NOT introduce breaking changes
- ‚úÖ Only frontend responsiveness + re-render fixes

---

## ‚úÖ EXPECTED OUTCOME

- Fully mobile-responsive PMS
- Sidebar adapts to screen size
- Kanban usable on mobile
- UI re-renders correctly after every action
- Professional, stable user experience

---

Proceed step-by-step and confirm once mobile responsiveness and re-render issues are resolved.
