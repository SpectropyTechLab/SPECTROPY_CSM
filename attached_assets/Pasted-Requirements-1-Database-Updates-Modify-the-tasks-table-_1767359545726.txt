Requirements:

1. Database Updates:
   - Modify the `tasks` table to include:
     - `attachments` column (array of file URLs or JSON storing file metadata).
     - `checklist` column (array of objects: { title: string, completed: boolean }).
     - `assignedUsers` column (array of user IDs).
     - Ensure `history` column maintains all past activity logs.
   - Ensure task timestamps (`startDate`, `endDate`, `estimateHours`, `estimateMinutes`) are stored per task.

2. Backend API Updates:
   - Create endpoints for:
     a) Uploading attachments to a task.
     b) Adding/removing items from checklist.
     c) Assigning multiple users to a task.
     d) Editing task details including title, description, priority, due date, start/end dates, and assigned users.
     e) Automatic task progression: when a task is marked complete, backend should create a new task in the next bucket with empty date/time fields.
     f) Task options: Edit, Delete, View History.
   - Update the task creation/update endpoints to log all changes into the `history` field with timestamp and user info.

3. Frontend (React + Tailwind + Framer Motion):
   - Update Task Card UI:
     - Show multiple assigned users as avatars.
     - Show checklist progress visually (e.g., percentage completed).
     - Show attachment icons with clickable file links or preview if applicable.
     - Include a three-dot menu (â€¦) with options: Edit Task, Delete Task, Task History.
   - Task modals/forms:
     - Allow uploading multiple attachments with drag-and-drop support.
     - Add checklist creation/editing interface.
     - Allow selecting multiple users for assignment.
   - Automatic Task Progression:
     - When marking a task as complete, call backend API to auto-create the task in next stage bucket.
     - Newly created task should have date/time empty.
   - Task History View:
     - Modal or slide-over showing chronological task activities including edits, status changes, checklist updates, attachments added, and assignment changes.

4. User Experience:
   - Smooth drag-and-drop support for task movement between buckets.
   - Maintain task completion checkbox with instant UI update.
   - Animations for adding attachments, checklist updates, and assigning users.
   - Keep interface responsive and modern, following the existing PMS dark/light theme.

5. Security & Validation:
   - Validate attachment file types and size (limit e.g., 10MB per file).
   - Only allow users assigned to the task or admins to edit/delete tasks.
   - Ensure history logs cannot be tampered with from frontend.

6. Testing:
   - Test adding multiple attachments, checklist items, and multiple assignees.
   - Test automatic task creation in the next bucket.
   - Test history logging with various actions.
   - Test task options menu: edit, delete, view history.

Instruction for Replit AI:
- Update backend Node.js + Express routes and PostgreSQL schema.
- Update frontend React components, modals, task card layout, and animations.
- Ensure all new features integrate smoothly with existing Kanban board and task CRUD system.
- Maintain project-wide styling and UX consistency.